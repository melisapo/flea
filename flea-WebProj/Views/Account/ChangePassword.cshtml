@model flea_WebProj.Models.ViewModels.Auth.ChangePasswordViewModel

@{
    ViewData["Title"] = "Cambiar Contraseña";
}

<div class="min-h-screen flex items-center justify-center px-4 py-12 bg-background-light dark:bg-background-dark">
    <div class="w-full max-w-xl">
        <div class="bg-white dark:bg-zinc-900 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-border-muted/50 overflow-hidden">
            
            <!-- Header -->
            <div class="relative">
                <div class="h-2 bg-primary"></div>
                <div class="px-8 py-6 border-b border-border-muted/50">
                    <h4 class="text-xl font-bold tracking-tight text-main-text flex items-center gap-2">
                        Cambiar Contraseña
                    </h4>
                </div>
            </div>

            <!-- Body -->
            <div class="p-8 space-y-6">
                <div class="flex gap-3 items-center rounded-xl border border-primary/30 bg-primary/5 p-5">
                    <div class="p-2 bg-primary/20 rounded-full grid place-content-center">
                        <span class="material-symbols-outlined">
                            info
                        </span>
                    </div>
                    <p class="text-sm text-gray-600 leading-relaxed">
                        Tu contraseña debe tener al menos 6 caracteres.
                    </p>
                </div>

                <form asp-action="ChangePassword" method="post" class="space-y-5">
                    <div asp-validation-summary="ModelOnly" class="text-sm text-red-600"></div>

                    <!-- Contraseña actual -->
                    <div class="space-y-2">
                        <label asp-for="CurrentPassword" class="block text-sm font-semibold text-main-text">
                            Contraseña Actual *
                        </label>
                        <input asp-for="CurrentPassword"
                               class="form-input w-full rounded-xl border-2 border-input bg-background-light/50 px-4 py-3 text-base focus:ring-0 focus:outline-none focus:border-primary hover:border-primary/50 transition-all duration-200"
                               placeholder="Ingresa tu contraseña actual" />
                        <span asp-validation-for="CurrentPassword" class="text-sm text-red-600"></span>
                    </div>

                    <!-- Nueva contraseña -->
                    <div class="space-y-2">
                        <label asp-for="NewPassword" class="block text-sm font-semibold text-main-text">
                            Nueva Contraseña *
                        </label>
                        <input asp-for="NewPassword"
                               class="form-input w-full rounded-xl border-2 border-input bg-background-light/50 px-4 py-3 text-base focus:ring-0 focus:outline-none focus:border-primary hover:border-primary/50 transition-all duration-200"
                               placeholder="Mínimo 6 caracteres" />
                        <span asp-validation-for="NewPassword" class="text-sm text-red-600"></span>
                    </div>

                    <!-- Confirmar nueva contraseña -->
                    <div class="space-y-2">
                        <label asp-for="ConfirmNewPassword" class="block text-sm font-semibold text-main-text">
                            Confirmar Nueva Contraseña *
                        </label>
                        <input asp-for="ConfirmNewPassword"
                               class="form-input w-full rounded-xl border-2 border-input bg-background-light/50 px-4 py-3 text-base focus:ring-0 focus:outline-none focus:border-primary hover:border-primary/50 transition-all duration-200"
                               placeholder="Repite la nueva contraseña" />
                        <span asp-validation-for="ConfirmNewPassword" class="text-sm text-red-600"></span>
                    </div>

                    <!-- Botones -->
                    <div class="flex flex-col sm:flex-row gap-4 pt-4">
                        <button type="submit"
                                class="flex flex-1 bg-primary hover:bg-primary/90 text-main-text font-bold py-3 rounded-xl transition-all shadow-lg shadow-primary/20 active:scale-[0.98] items-center justify-center gap-2">
                            <span class="material-symbols-outlined">
                                lock_reset
                            </span>
                            Cambiar Contraseña
                        </button>

                        <a asp-action="Profile"
                           class="px-8 py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-semibold rounded-xl transition-colors text-center">
                            Cancelar
                        </a>
                    </div>
                </form>
            </div>

            <!-- Footer -->
            <div class="px-8 py-4 border-t border-border-muted/50 text-center">
                <small class="text-xs text-gray-500 flex items-center justify-center gap-2">
                    Tu contraseña se guarda de forma segura y encriptada.
                </small>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
